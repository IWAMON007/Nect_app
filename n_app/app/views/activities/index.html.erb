<div class="container">
  <div class="header">
    <h1>活動一覧</h1>
    <%= form_with url: activities_path, method: :get, local: true, class: 'search-form' do %>
      <%= text_field_tag :search, params[:search], class: 'form-control', placeholder: 'Enter activity or author' %>
      <%= submit_tag 'Search', class: 'btn btn-outline-primary' %>
    <% end %>
  </div>

  <% if member_signed_in? %>
    <%= link_to '新規投稿', new_activity_path, class: 'btn btn-outline-primary mb-4' %>
  <% end %>

  <div class="posts-entry">
    <% @activities.each do |activity| %>
      <div class="blog-entry">
        <div class="image-container">
          <% image_class = 'fixed-height-image border rounded' %>
          <%= image_tag activity.get_activity_image, alt: "Image", class: image_class %>
        </div>
        <div class="content">
          <h2 class="text-center"><%= activity.title %></h2>
          <p class="card-text text-center"><small class="text-body-secondary"><%= activity.created_at.strftime('%Y/%m/%d') %></small></p>
          <p class="author text-center"><%= activity.member.name %></p>
          <p class="read-more text-center"><%= link_to 'Read', activity_path(activity.id), class: 'btn btn-sm btn-outline-primary' %></p>
        </div>
      </div>
    <% end %>
  </div>

  <div class="pagination">
    <%= paginate @activities, theme: 'bootstrap-5' %>
  </div>
</div>